if(!window.ChartUtils)var ChartUtils=function(){function s(e,c){if(!e||!c)throw"Wrong number of arguments Exception";if(!Object.isString(e))throw"Illegal Argument Exception: methodName must be a string";if(!Object.isFunction(c))throw"Illegal Argument Exception: method must be a function";Object.defineProperty(this,e,{value:c,writable:!1,enumerable:!0,configurable:!1});return this}function q(e,c){if(!e||!c)throw"Wrong number of arguments Exception";if(!Object.isString(e))throw"Illegal Argument Exception: methodName must be a string";
if(!Object.isFunction(c))throw"Illegal Argument Exception: method must be a function";Object.defineProperty(this,e,{value:c,writable:!1,enumerable:!1,configurable:!1})}function v(e){if(!e)throw"Wrong number of arguments Exception";if(!Object.isString(e))throw"Illegal Argument Exception: methodName must be a string";var c=this.prototype&&this.prototype[e]?this.prototype:this.__proto__;if(c&&c[e]&&Object.isFunction(c[e]))return c[e].apply(c,Array.prototype.slice.apply(arguments,[1]));throw"Super object has no method "+
e;}function w(e,c){if(!e)throw"Wrong number of arguments Exception";if(!Object.isString(e))throw"Illegal Argument Exception: property must be a string";if(this.hasOwnProperty(e))return this[e]=c,this;var j=this.prototype&&this.prototype[e]?this.prototype:this.__proto__;if(j&&!Object.isUndefined(j[e]))return j.setProperty(e,c),this;throw"Super object has no property "+e;}function t(e,c){e=(e+Math.floor(c/60))%24;c%=60;return(10>e?"0"+e:e)+":"+(10>c?"0"+c:c)}Object.hasOwnProperty("init")||(Object.init=
function(e,c){if(2!==arguments.length)throw Error("Object.init implementation only accepts 2 parameters.");var j,a=Object.create(e);if(c)for(j in c)c.hasHownProperty(j)&&Object.defineProperty(a,j,{value:c[j],writable:!0,enumerable:!0,configurable:!1});return a});Object.prototype.clear&&(Object.prototype.clear=function(){for(var e in this)this.hasOwnProperty(e)&&delete this[e];return this});Object.prototype.addPublicMethod||Object.defineProperty(Object.prototype,"addPublicMethod",{value:s,writable:!1,
enumerable:!1,configurable:!1});Object.prototype.addProtectedMethod||Object.defineProperty(Object.prototype,"addProtectedMethod",{value:q,writable:!1,enumerable:!1,configurable:!1});Object.prototype.createSafeProxy||(Object.prototype.createSafeProxy=function(e){var c,j=Object.create(null),a=this;for(c in a)Object.isFunction(a[c])&&(j[c]=function(b){return function(){var d;if(a)return d=a[b].apply(a,Array.prototype.slice.apply(arguments,[0])),d===a?j:d;throw"Null reference: the object has been already destroyed";
}}(c));j.destroy=function(){try{e&&a.destroy()}finally{a=null}};return j});Object.prototype.superMethod||Object.defineProperty(Object.prototype,"superMethod",{value:v,writable:!1,enumerable:!1,configurable:!1});Object.prototype.setProperty||Object.defineProperty(Object.prototype,"setProperty",{value:w,writable:!1,enumerable:!1,configurable:!1});Array.prototype.clear&&(Array.prototype.clear=function(e){if(e)for(e=0;e<this.length;e++)Object.isFunction(this[e].clear)&&this[e].clear();this.length=0;return this});
Array.prototype.map||(Array.prototype.map=function(e,c){if(Function.isFunction(e)){for(var j=this.length,a=Array(j),b=0;b<j;b++)b in this&&(a[b]=e.call(c,this[b],b,this));return a}throw new TypeError;});Array.prototype.sum||(Array.prototype.sum=function(){for(var e=this.length,c=0,j=0;j<e;j++)c+=this[j];return c});Array.prototype.shallowCopy||(Array.prototype.shallowCopy=function(e){var c=this.length;if(Object.isUndefined(e))e=c;else{e=parseInt(e,10);if(isNaN(e)||0>=e)throw"Invalid argument: n";e=
Math.min(e,c)}for(var c=Array(e),j=0;j<e;j++)c[j]=this[j];return c});Array.prototype.max||(Array.prototype.max=function(e){return Function.isFunction(e)?Math.max.apply(Math,this.map(e)):Math.max.apply(Math,this)});Array.prototype.min||(Array.prototype.min=function(e){return Function.isFunction(e)?Math.min.apply(Math,this.map(e)):Math.min.apply(Math,this)});Object.prototype.isArray||(Object.prototype.isArray=function(e){return e&&e.constructor===Array});Object.prototype.isString||(Object.prototype.isString=
function(e){return"string"===typeof e});Object.prototype.isFunction||(Object.prototype.isFunction=function(e){return"function"===typeof e});Object.prototype.isNumber||(Object.prototype.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)});Object.prototype.isUndefined||(Object.prototype.isUndefined=function(e){return"undefined"===typeof e});Object.prototype.shallowCopy||(Object.prototype.shallowCopy=function(){var e={},c;for(c in this)this.hasOwnProperty(c)&&(e[c]=this[c]);return e});var x=
/^\d\d?:\d\d?$/,n=" K M G T P E".split(" "),u={abbreviateNumber:function(e){var c;if(0===e)return"0";if(1>Math.abs(e)){for(c=0;1>Math.abs(e);)c+=1,e*=10;return Math.round(100*e)/100+"e-"+c}for(c=0;c<n.length-1;){if(1E3>Math.abs(e))return 0===c&&(e=Math.round(100*e)/100),e+n[c];c+=1;e=Math.round(e/100)/10}return 1E3>Math.abs(e)?e+n[c]:e+n[n.length-1]},fillArray:function(e,c){c=parseInt(c,10);if(isNaN(c)||0>=c)throw"Invalid Argument: n";var j,a=Array(c);if(Function.isFunction(e))for(j=0;j<c;j++)a[j]=
e();else for(j=0;j<c;j++)a[j]=e;return a},validateTimeString:function(e){if(!x.test(e))return null;e=e.split(":").map(function(e){return parseInt(e,10)});return 24<=e[0]||60<=e[1]?null:e},addTimeStrings:function(e,c){var j=this.validateTimeString(e);if(!j)throw"Invalid Argument: timeString_1";var a=this.validateTimeString(c);if(!a)throw"Invalid Argument: timeString_2";j[1]+=a[1];j[0]+=a[0];return t(j[0],j[1])},addIntToTimeString:function(e,c){var j=this.validateTimeString(e);if(!j)throw"Invalid Argument: timeString";
if(0>c)throw"Invalid Argument: minutes";j[1]+=c;return t(j[0],j[1])}};Object.freeze(u);return u}();
if(!window.DynamicChart){var DynamicChart=function(){function s(a,b,d,g,l){if(Object.isUndefined(a)||Object.isUndefined(b))throw"Wrong number of arguments: width and height are mandatory";Object.isUndefined(l)&&(l=d3.select("body"));var h=l.append("div").attr("id","dynamic_chart_"+e),j=h.append("svg").attr("id","dynamic_chart_"+e);e+=1;var k=Object.create(c);if(Object.isUndefined(g))g=1;else{g=parseInt(g,10);if(isNaN(g)||0>=g)throw"Illegal Argument: dataDim";if(10<g)throw"Max number of subvalues for each point (10) exceeded";
}Object.defineProperty(k,"__dataDim__",{value:g,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__data__",{value:ChartUtils.fillArray(function(){return[]},k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__maxVals__",{value:ChartUtils.fillArray(0,k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__dataCounter__",{value:0,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(k,"__parent__",{value:l,
writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__divElement__",{value:h,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__svgElement__",{value:j,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__chartArea__",{value:j.append("svg").attr("id","chart_area"),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__axeLeft__",{value:j.append("svg").attr("id","axe_left").attr("fill","none"),writable:!1,enumerable:!1,configurable:!1});
Object.defineProperty(k,"__axeRight__",{value:j.append("svg").attr("id","axe_right").attr("fill","none"),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__axeTop__",{value:j.append("svg").attr("id","axe_top").attr("fill","none"),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__axeBottom__",{value:j.append("svg").attr("id","axe_bottom").attr("fill","none"),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__verticalAxe__",{value:null,writable:!0,
enumerable:!1,configurable:!1});Object.defineProperty(k,"__horizontalAxe__",{value:null,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(k,"__scaleGlobally__",{value:!0,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(k,"__labelsSize__",{value:ChartUtils.fillArray(12,k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__labelsVisible__",{value:ChartUtils.fillArray(!0,k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,
"__abbreviatedLabels__",{value:ChartUtils.fillArray(!1,k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__barsFillColors__",{value:t.shallowCopy(k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__barsStrokeColors__",{value:ChartUtils.fillArray("black",k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__labelColors__",{value:ChartUtils.fillArray("black",k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});
Object.defineProperty(k,"__innerBackgroundColor__",{value:"white",writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(k,"__outerBackgroundColor__",{value:"white",writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(k,"__innerBorder__",{value:x.shallowCopy(),writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(k,"__outerBorder__",{value:n.shallowCopy(),writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(k,"__legend__",{value:null,writable:!0,enumerable:!1,
configurable:!1});if(!k.__svgElement__||!k.__divElement__)throw"Inconsitent Chart State: null";k.setWidth(a);k.setHeight(b);Object.isUndefined(d)&&(d="");Object.defineProperty(k,"__margins__",{value:k.__decodeCSSMultivalueString__(d,25),writable:!1,enumerable:!1,configurable:!1});k.__initAxes__(a,b);a=d3.scale.linear().range([0,k.__getChartAreaWidth__()]);Object.defineProperty(k,"__xScale__",{value:a,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(k,"__yScale__",{value:ChartUtils.fillArray(function(){return d3.scale.linear().range([0,
k.__getChartAreaHeight__()])},k.__dataDim__),writable:!1,enumerable:!1,configurable:!1});Object.seal(k);return k}function q(a,b,d,g,e,c,j){a=parseInt(a,10);if(isNaN(a)||0>=a)throw"Illegal Argument: ticks";b=s(d,g,e,c,j);b=Object.create(b);Object.defineProperty(b,"__ticks__",{value:a,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(b,"__tickLength__",{value:1,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(b,"__ticksToRemoveOnFullQueue__",{value:0,writable:!0,enumerable:!1,
configurable:!1});Object.defineProperty(b,"setFixedDataLengthMode",{value:function(){if(this.hasOwnProperty("__ticksToRemoveOnFullQueue__"))this.__ticksToRemoveOnFullQueue__=0;else{var a=this.prototype?this.prototype:this.__proto__;a&&a.setFixedDataLengthMode&&a.setFixedDataLengthMode()}return this},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(b,"setShifitingDataMode",{value:function(a){a=parseInt(a,10);if(isNaN(a)||0>=a)throw"Illegal Arguments: ticksToRemove";if(this.hasOwnProperty("__ticksToRemoveOnFullQueue__"))this.__ticksToRemoveOnFullQueue__=
a;else{var b=this.prototype?this.prototype:this.__proto__;b&&b.setShifitingDataMode&&b.setShifitingDataMode(a)}return this},writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(b,"getBarWidth",{value:function(){return this.__barWidth__},writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(b,"__canAppendData__",{value:function(a){if(!Object.isArray(a))return[];var b=this.__getDatasetLength__(),d=this.__ticks__-b;if(a.length<=d)return a;if(0===this.__ticksToRemoveOnFullQueue__)return 0>=
d?[]:a.splice(0,d);b=Math.min(this.__ticksToRemoveOnFullQueue__,b);this.clearData(b);return this.__canAppendData__(a)},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(b,"__drawNewData__",{value:function(a,b,d,g,e){var c=this,h=this.__getChartAreaHeight__(),m=this.getBarWidth(g);a.enter().append("rect").attr("index","data_"+d).attr("x",function(a,b){return(b*c.__dataDim__+d)*m}).attr("y",h).attr("width",m).attr("height",0).attr("fill",c.getBarsFillColor(d)).attr("stroke",c.getBarsStrokeColor(d)).attr("opacity",
function(a){return c.__getBarOpacity__((0+e(a))/h)});c.areLabelsVisible(d)&&m>c.getLabelsSize(d)?b.enter().append("text").attr("index","data_"+d).text(function(a){return c.__makeLabel__(a,d)}).attr("text-anchor","middle").attr("x",function(a,b){return(b*c.__dataDim__+d+0.5)*m}).attr("y",h).attr("font-family","sans-serif").attr("font-size",c.getLabelsSize(d)).attr("fill",c.getLabelColor(d)):b.remove()},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(b,"__updateDrawing__",{value:function(a,
b,d,g,c){var e=this,h=this.__getChartAreaHeight__(),m=this.getBarWidth(g);a.transition().attr("x",function(a,b){return(b*e.__dataDim__+d)*m}).attr("y",function(a){return h-c(a)}).attr("width",m).attr("height",function(a){return c(a)}).attr("opacity",function(a){return e.__getBarOpacity__((0+c(a))/h)});e.areLabelsVisible(d)&&m>e.getLabelsSize(d)?b.transition().text(function(a){return e.__makeLabel__(a,d)}).attr("x",function(a,b){return(b*e.__dataDim__+d+0.5)*m}).attr("y",function(a){return h-c(a)+
e.getLabelsSize(d)}):b.remove()},writable:!1,enumerable:!1,configurable:!1});b.addProtectedMethod("__refreshDrawing__",function(a,b,d,g,e){var c=this,h=this.__getChartAreaHeight__(),m=this.getBarWidth(g);a.transition().attr("x",function(a,b){return(b*c.__dataDim__+d)*m}).attr("y",h).attr("width",m).attr("height",0).attr("fill",c.getBarsFillColor(d)).attr("stroke",c.getBarsStrokeColor(d)).attr("opacity",function(a){return c.__getBarOpacity__((0+e(a))/h)});c.areLabelsVisible(d)&&m>c.getLabelsSize(d)?
b.transition().text(function(a){return c.__makeLabel__(a,d)}).attr("text-anchor","middle").attr("x",function(a,b){return(b*c.__dataDim__+d+0.5)*m}).attr("y",h).attr("font-family","sans-serif").attr("font-size",c.getLabelsSize(d)).attr("fill",c.getLabelColor(d)):b.remove()});b.addProtectedMethod("__updateAxes__",function(a){var b=this.__verticalAxe__,d=this.__horizontalAxe__,g,c,e,h,m,l,r,j,z=this;if(b){if(this.__scaleGlobally__||1===this.__dataDim__){h=this.__maxVals__.max();c=b.notches;e=[h];for(g=
c;0<g;g--)e.push(h*g/(c+1));e.push(0)}else e=[];h=b.svgElement.selectAll("text[type=axe_label]").data(e);r=b.svgElement.attr("height");"right"===b.side?(g=5,c="start"):(g=b.svgElement.attr("width")-5,c="end");h.exit().remove();h.enter().insert("text","svg").attr("type","axe_label").attr("text-anchor",c).attr("font-family","sans-serif").attr("font-size",b.labelSize);h.text(function(a){return z.__makeLabel__(a,void 0,!0)}).attr("x",g).attr("y",function(d){return Math.max(0.75*b.labelSize,Math.min(r,
r-a(d)+0.375*b.labelSize))}).attr("fill",b.color)}if(d){g=d.svgElement.attr("width");r=d.svgElement.attr("height");h=this.__dataCounter__-this.__getDatasetLength__();c=d.notches;j=g/(c+1);e=[h];for(g=1;g<=c;g++)l=h+this.__ticks__*g/(c+1),e.push(l);e.push(h+this.__ticks__);h=d.svgElement.selectAll("text[type=axe_label]").data(e);"bottom"===d.side?g=5+d.labelSize:(g=r-5,c="end");m=0;h.exit().remove();h.enter().insert("text","svg").attr("type","axe_label").attr("font-family","sans-serif").attr("text-anchor",
function(){++m;return 1===m?"start":m===e.length?"end":"middle"}).attr("font-size",d.labelSize);h.text(function(a){return Object.isNumber(a)?Math.round(a):a}).attr("x",function(a,b){return b*j}).attr("y",g).attr("fill",d.color)}});a=b.__getChartAreaWidth__();b.__getChartAreaHeight__();a/=b.__dataDim__*b.__ticks__;if(0>=a)throw"Illegal Arguments combination: width too small to draw 'ticks' values";Object.defineProperty(b,"__barWidth__",{value:a,writable:!1,enumerable:!1,configurable:!1});Object.seal(b);
return b}function v(a,b,d,g,e,h){a=parseInt(a,10);if(isNaN(a)||0>=a)throw"Illegal Argument: ticks";var j;try{j=c.__decodeCSSMultivalueString__(g,void 0),j.right=Math.max(j.right,55)}catch(k){j={top:0,right:55}}g=c.__encodeCSSMultivalueString__(j);a=q(a,0,b,d,g,e,h);var f=Object.create(a);Object.defineProperty(f,"__ticksBetweenHighlights__",{value:10,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(f,"getTicksBetweenHighlights",{value:function(){return this.__ticksBetweenHighlights__},
writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(f,"setTicksBetweenHighlights",{value:function(a){if(this.hasOwnProperty("__ticksBetweenHighlights__"))this.__ticksBetweenHighlights__=a;else{var b=this.prototype?this.prototype:this.__proto__;b&&b.setTicksBetweenHighlights&&b.setTicksBetweenHighlights(a)}return this},writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(f,"__backgroundHighlightColor__",{value:"lightpink",writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(f,
"setInnerBackgroundHighlightColor",{value:function(a){if(this.hasOwnProperty("__backgroundHighlightColor__"))this.__backgroundHighlightColor__=a;else{var b=this.prototype?this.prototype:this.__proto__;b&&b.setInnerBackgroundHighlightColor&&b.setInnerBackgroundHighlightColor(a)}return this},writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(f,"getBackgroundHighlightColor",{value:function(){return this.__backgroundHighlightColor__},writable:!1,enumerable:!0,configurable:!1});Object.defineProperty(f,
"__canAppendData__",{value:function(a){if(!Object.isArray(a))return[];var b=this.__getDatasetLength__(),d=this.__ticks__-b,g=a.length;g>this.__ticks__&&(a.splice(0,g-this.__ticks__),g=this.__ticks__);g<=d||(b=Math.min(g,b),this.clearData(b));return a},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(f,"__selectBackgroundBars__",{value:function(a){return Object.isUndefined(a)?this.__chartArea__.selectAll("rect[type=back]"):this.__chartArea__.selectAll("rect[type=back]").filter(a)},
writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(f,"__updateBackground__",{value:function(){var a=this.__dataCounter__,b=this.getTicksBetweenHighlights(),d=this.getInnerBackgroundColor(),g=this.getBackgroundHighlightColor();this.__selectBackgroundBars__().attr("fill",d);this.__selectBackgroundBars__(function(){return a>this.d_index&&0===(a-this.d_index)%b}).attr("fill",g)},writable:!1,enumerable:!1,configurable:!1});f.addProtectedMethod("__updateAxes__",function(a){var b=this.__verticalAxe__,
d=this.__horizontalAxe__,g,f,c,e,h,l,k,j,p=this;if(b){if(this.__scaleGlobally__||1===this.__dataDim__){e=this.__maxVals__.max();f=b.notches;c=[e];for(g=f;0<g;g--)c.push(e*g/(f+1));c.push(0)}else c=[];e=b.svgElement.selectAll("text[type=axe_label]").data(c);k=b.svgElement.attr("height");"right"===b.side?(g=5,f="start"):(g=b.svgElement.attr("width")-5,f="end");e.exit().remove();e.enter().insert("text","svg").attr("type","axe_label").attr("text-anchor",f).attr("font-family","sans-serif").attr("font-size",
b.labelSize);e.text(function(a){return p.__makeLabel__(a,void 0,!0)}).attr("x",g).attr("y",function(d){return Math.max(0.75*b.labelSize,Math.min(k,k-a(d)+0.375*b.labelSize))}).attr("fill",b.color)}if(d){g=d.svgElement.attr("width");k=d.svgElement.attr("height");e=this.__dataCounter__-this.__ticks__;f=d.notches;j=g/(f+1);c=[0<=e?e:""];for(g=1;g<=f;g++)l=e+this.__ticks__*g/(f+1),c.push(0<=l?l:"");c.push(this.__dataCounter__);e=d.svgElement.selectAll("text[type=axe_label]").data(c);"bottom"===d.side?
g=5+d.labelSize:(g=k-5,f="end");h=0;e.exit().remove();e.enter().insert("text","svg").attr("type","axe_label").attr("font-family","sans-serif").attr("text-anchor",function(){++h;return 1===h?"start":h===c.length?"end":"middle"}).attr("font-size",d.labelSize);e.text(function(a){return Object.isNumber(a)?Math.round(a):a}).attr("x",function(a,b){return b*j}).attr("y",g).attr("fill",d.color)}});Object.defineProperty(f,"__drawNewData__",{value:function(a,b,d,g,f){var c=this,e=this.__getChartAreaHeight__(),
h=this.getBarWidth(g),l=(this.__ticks__-this.__getDatasetLength__())*c.__dataDim__*h;a.enter().append("rect").attr("index","data_"+d).attr("x",function(a,b){return l+(b*c.__dataDim__+d)*h+1}).attr("y",e).attr("width",h-3).attr("height",0).attr("fill",c.getBarsFillColor(d)).attr("stroke",c.getBarsStrokeColor(d)).attr("opacity",function(a){return c.__getBarOpacity__((0+f(a))/e)});c.areLabelsVisible(d)&&h>c.getLabelsSize(d)?b.enter().append("text").attr("index","data_"+d).text(function(a){return c.__makeLabel__(a,
d)}).attr("text-anchor","middle").attr("x",function(a,b){return l+(b*c.__dataDim__+d+0.5)*h+1}).attr("y",e).attr("font-family","sans-serif").attr("font-size",c.getLabelsSize(d)).attr("fill",c.getLabelColor(d)):b.remove()},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(f,"__updateDrawing__",{value:function(a,b,d,g,c){var f=this,e=this.__getChartAreaHeight__(),h=this.getBarWidth(g),l=(this.__ticks__-this.__getDatasetLength__())*f.__dataDim__*h;a.transition().duration(100).attr("x",
function(a,b){return l+(b*f.__dataDim__+d)*h+1}).attr("y",function(a){return e-c(a)}).attr("width",h-3).attr("height",function(a){return c(a)}).attr("opacity",function(a){return f.__getBarOpacity__((0+c(a))/e)});f.areLabelsVisible(d)&&h>f.getLabelsSize(d)?b.transition().text(function(a){return f.__makeLabel__(a,d)}).attr("x",function(a,b){return l+(b*f.__dataDim__+d+0.5)*h+1}).attr("y",function(a){return e-c(a)+f.getLabelsSize(d)}):b.remove()},writable:!1,enumerable:!1,configurable:!1});f.addProtectedMethod("__refreshDrawing__",
function(a,b,d,g,c){var f=this,e=this.__getChartAreaHeight__(),h=this.getBarWidth(g),l=(this.__ticks__-this.__getDatasetLength__())*f.__dataDim__*h;a.transition().attr("index","data_"+d).attr("x",function(a,b){return l+(b*f.__dataDim__+d)*h+1}).attr("y",function(a){return e-c(a)}).attr("width",h-3).attr("height",function(a){return c(a)}).attr("fill",f.getBarsFillColor(d)).attr("stroke",f.getBarsStrokeColor(d)).attr("opacity",function(a){return f.__getBarOpacity__((0+c(a))/e)});f.areLabelsVisible(d)&&
h>f.getLabelsSize(d)?b.transition().text(function(a){return f.__makeLabel__(a,d)}).attr("text-anchor","middle").attr("x",function(a,b){return l+(b*f.__dataDim__+d+0.5)*h+1}).attr("y",function(a){return e-c(a)+f.getLabelsSize(d)}).attr("font-family","sans-serif").attr("font-size",f.getLabelsSize(d)).attr("fill",f.getLabelColor(d)):b.remove()});f.addProtectedMethod("__redrawInnerBackground__",function(){});a=f.__getChartAreaWidth__();b=f.__getChartAreaHeight__();for(d=0;d<f.__dataDim__;d++)f.toggleLabels(d,
!1);var p=a/(f.__dataDim__*f.__ticks__);if(0>=p)throw"Illegal Arguments combination: width too small to draw 'ticks' values";Object.defineProperty(f,"__barWidth__",{value:p,writable:!1,enumerable:!1,configurable:!1});f.__chartArea__.select("#innerBackground").attr("fill","white");var y=f.__ticks__*f.__dataDim__;f.__selectBackgroundBars__().data(Array(y)).enter().append("rect").attr("type","back").property("d_index",function(a,b){return Math.floor((y-b-1)/f.__dataDim__)}).attr("x",function(a,b){return b*
p}).attr("y",0).attr("width",p-1).attr("height",b).attr("fill",f.__innerBackgroundColor__);f.setVerticalAxe(!0,"",5,2);Object.seal(f);return f}function w(a,b,d,g,c,e,j,k){a=q(a,0,g,c,e,j,k);var f=Object.create(a);ChartUtils.validateTimeString(b)&&Object.defineProperty(f,"__startTime__",{value:b,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(f,"__timeWheelLabelsSize__",{value:f.getLabelsSize(0),writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(f,"setTimeWheelLabelsSize",
{value:function(a){a=parseInt(a,10);if(isNaN(a)||0>=a)throw"Illegal Argument: size";if(this.hasOwnProperty("__timeWheelLabelsSize__"))this.__timeWheelLabelsSize__=a;else{var b=this.prototype?this.prototype:this.__proto__;b&&b.setTimeWheelLabelsSize&&b.setTimeWheelLabelsSize(a)}this.__updateWheelDrawing__();return this},writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(f,"__timeWheelForeColor__",{value:"lightgrey",writable:!0,enumerable:!1,configurable:!1});f.addPublicMethod("setTimeWheelForeColor",
function(a){if(Object.isUndefined(a)||null===a)throw"Illegal Argument: color";if(this.hasOwnProperty("__timeWheelForeColor__"))this.__timeWheelForeColor__=a;else{var b=this.prototype?this.prototype:this.__proto__;b&&b.setTimeWheelForeColor&&b.setTimeWheelForeColor(a)}this.__updateWheelDrawing__();return this});Object.defineProperty(f,"__timeLabelsVisible__",{value:function(){return!Object.isUndefined(this.__startTime__)},writable:!1,enumerable:!1,configurable:!1});f.addPublicMethod("setBarWidth",
function(a){a=parseInt(a,10);if(isNaN(a)||0>=a)throw"Illegal Argument: barWidth";this.__barWidth__=a;return this});f.addPublicMethod("setWheelCenter",function(a,b){a=parseInt(a,10);b=parseInt(b,10);if(!isNaN(a)&&!isNaN(b))this.__moveWheelCenter__(a,b);else throw"Illegal Arguments: cx, cy";return this});Object.defineProperty(f,"__moveWheelCenter__",{value:function(a,b){if(Object.isNumber(a)&&Object.isNumber(b)&&!(this.__cx__===a&&this.__cy__===b)){this.__wheel__.transition().attr("x",a-this.__r__).attr("y",
b-this.__r__);this.__cx__=a;this.__cy__=b;var d=this.__getDatasetLength__()*this.__dataDim__,g;g=this.__scaleGlobally__?ChartUtils.fillArray(this.__maxVals__.max(),this.__dataDim__):this.__maxVals__;for(var f=0;f<this.__dataDim__;f++){var c=this.__selectData__(this.__data__,f),e=this.__selectLabels__(this.__data__,f);this.__xScale__.domain([0,d]);this.__yScale__[f].domain([0,g[f]]);this.__updateDrawing__(c,e,f,this.__xScale__,this.__yScale__[f])}}},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(f,
"__drawNewData__",{value:function(a,b,d,g,f){var c=this,e=c.__cx__+d*(c.__barWidth__+1),h=c.__cy__-c.__r__;a.enter().append("rect").attr("index","data_"+d).attr("x",e).attr("y",h).attr("width",c.__barWidth__).attr("height",0).attr("transform",function(a,b){return"rotate("+180/Math.PI*2*b*c.__tickStep__+" "+c.__cx__+", "+c.__cy__+")"}).attr("fill",c.getBarsFillColor(d)).attr("stroke",c.getBarsStrokeColor(d)).attr("opacity",function(a){return c.__getBarOpacity__((0+f(a))/c.__barHeight__)});c.areLabelsVisible(d)?
(e+=c.getBarWidth(),h-=5,b.enter().append("text").attr("index","data_"+d).text(function(a){return c.__makeLabel__(a,d)}).attr("text-anchor","left").attr("x",e).attr("y",function(){return h}).attr("transform",function(a,b){return"rotate("+180/Math.PI*2*b*c.__tickStep__+" "+c.__cx__+", "+c.__cy__+")rotate(-90 "+e+", "+h+")"}).attr("font-family","sans-serif").attr("font-size",c.getLabelsSize(d)).attr("fill",c.getLabelColor(d))):b.remove()},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(f,
"__updateDrawing__",{value:function(a,b,d,c,g){var f=this,e=f.__cx__+d*(f.__barWidth__+1);a.transition().attr("x",e).attr("y",function(a){return f.__cy__-f.__r__-g(a)}).attr("height",function(a){return g(a)}).attr("transform",function(a,b){return"rotate("+180/Math.PI*2*b*f.__tickStep__+" "+f.__cx__+", "+f.__cy__+")"}).attr("opacity",function(a){return f.__getBarOpacity__((0+g(a))/f.__barHeight__)});f.areLabelsVisible(d)?(e+=f.getBarWidth(),b.transition().attr("y",function(a){return f.__cy__-f.__r__-
g(a)-5}).attr("x",e).attr("transform",function(a,b){return"rotate("+180/Math.PI*2*b*f.__tickStep__+" "+f.__cx__+", "+f.__cy__+")rotate(-90 "+e+", "+(f.__cy__-f.__r__-g(a)-5)+")"})):b.remove()},writable:!1,enumerable:!1,configurable:!1});f.addProtectedMethod("__refreshDrawing__",function(a,b,d,f,c){var g=this,e=g.__cx__+d*(g.__barWidth__+1);a.transition().attr("x",e).attr("y",function(a){return g.__cy__-g.__r__-c(a)}).attr("height",function(a){return c(a)}).attr("transform",function(a,b){return"rotate("+
180/Math.PI*2*b*g.__tickStep__+" "+g.__cx__+", "+g.__cy__+")"}).attr("fill",g.getBarsFillColor(d)).attr("stroke",g.getBarsStrokeColor(d)).attr("opacity",function(a){return g.__getBarOpacity__((0+c(a))/g.__barHeight__)});g.areLabelsVisible(d)?(e+=g.getBarWidth(),b.transition().text(function(a){return g.__makeLabel__(a,d)}).attr("text-anchor","left").attr("x",e).attr("y",function(a){return g.__cy__-g.__r__-c(a)-5}).attr("transform",function(a,b){return"rotate("+180/Math.PI*2*b*g.__tickStep__+" "+g.__cx__+
", "+g.__cy__+")rotate(-90 "+e+", "+(g.__cy__-g.__r__-c(a)-5)+")"}).attr("font-family","sans-serif").attr("font-size",g.getLabelsSize(d)).attr("fill",g.getLabelColor(d))):b.remove()});Object.defineProperty(f,"__onClearData__",{value:function(a){this.__timeLabels__.map(function(b){b.text(ChartUtils.addIntToTimeString(b.text(),a))})},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(f,"__updateWheelDrawing__",{value:function(){var a=this,b;this.__timeLabels__.map(function(b){b.attr("fill",
a.__timeWheelForeColor__).attr("font-size",a.__timeWheelLabelsSize__)});for(var d=0;d<this.__timeLabels__.length;d++)switch(b=this.__timeLabels__[d],b.property("clock_time")){case "12":b.attr("x",this.__r__).attr("y",5+this.__timeWheelLabelsSize__);break;case "3":b.attr("x",2*this.__r__-5-this.__timeLabels__[d].node().getComputedTextLength()).attr("y",this.__r__+this.__timeWheelLabelsSize__/2);break;case "6":b.attr("x",this.__r__).attr("y",2*this.__r__-5);break;case "9":b.attr("x",5).attr("y",this.__r__+
this.__timeWheelLabelsSize__/2)}this.__wheel__.selectAll("line").attr("stroke",this.__timeWheelForeColor__);this.__wheel__.selectAll("circle").attr("stroke",this.__timeWheelForeColor__)},writable:!1,enumerable:!1,configurable:!1});f.addProtectedMethod("__updateAxes__",function(){});f.addPublicMethod("setHorizontalAxe",function(){throw"Deprecated Method";});f.addPublicMethod("setVerticalAxe",function(){throw"Deprecated Method";});Object.defineProperty(f,"destroy",{value:function(){this.__timeLabels__&&
(this.__timeLabels__.length=0);this.__wheel__.remove();var a=this.prototype?this.prototype:this.__proto__;a&&a.destroy&&a.destroy();return null},writable:!1,enumerable:!1,configurable:!1});b=f.__getChartAreaWidth__();a=f.__getChartAreaHeight__();g=d;Object.defineProperty(f,"__barWidth__",{value:8,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(f,"__cx__",{value:b/2,writable:!0,enumerable:!1,configurable:!1});Object.defineProperty(f,"__cy__",{value:a/2,writable:!0,enumerable:!1,configurable:!1});
g=parseInt(g,10);!isNaN(g)&&0<g?(d=g,b=0.75*((Math.min(b,a)-2*g)/2)):(b=Math.min(b,a)/4,d=0.75*b);Object.defineProperty(f,"__r__",{value:d,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(f,"__barHeight__",{value:b,writable:!1,enumerable:!1,configurable:!1});for(d=0;d<f.__dataDim__;d++)f.__yScale__[d].range([0,f.__barHeight__]);Object.defineProperty(f,"__tickStep__",{value:Math.PI/f.__ticks__,writable:!1,enumerable:!1,configurable:!1});d=f.__cx__-f.__r__;b=f.__cy__-f.__r__;Object.defineProperty(f,
"__wheel__",{value:f.__chartArea__.append("svg").attr("id","timeWheel").attr("x",d).attr("y",b),writable:!1,enumerable:!1,configurable:!1});f.__wheel__.append("circle").attr("id","timeWheel").attr("cx",f.__r__).attr("cy",f.__r__).attr("stroke",f.__timeWheelForeColor__).attr("stroke-dasharray","2, 4").attr("fill","none").attr("r",f.__r__).attr("stroke-width",1);f.__wheel__.selectAll("line").data(d3.range(f.__ticks__)).enter().append("svg:line").attr("x1",f.__r__).attr("y1",0).attr("x2",f.__r__).attr("y2",
5).attr("stroke",f.__timeWheelForeColor__).attr("transform",function(a,b){return"rotate("+180/Math.PI*2*b*f.__tickStep__+" "+f.__r__+", "+f.__r__+")"});f.__timeLabelsVisible__()&&(d=[],d.push(f.__wheel__.append("text").property("clock_time","12").text(f.__startTime__).attr("font-family","sans-serif").attr("font-size",f.__timeWheelLabelsSize__).attr("fill",f.__timeWheelForeColor__).attr("text-anchor","middle").attr("x",f.__r__).attr("y",5+f.__timeWheelLabelsSize__)),b=f.__wheel__.append("text").property("clock_time",
"3").text(ChartUtils.addIntToTimeString(f.__startTime__,Math.floor(f.__ticks__/4))).attr("font-family","sans-serif").attr("font-size",f.__timeWheelLabelsSize__).attr("fill",f.__timeWheelForeColor__).attr("text-anchor","left"),d.push(b),b.attr("x",2*f.__r__-5-b.node().getComputedTextLength()).attr("y",f.__r__+f.__timeWheelLabelsSize__/2),d.push(f.__wheel__.append("text").property("clock_time","6").text(ChartUtils.addIntToTimeString(f.__startTime__,f.__ticks__/2)).attr("font-family","sans-serif").attr("font-size",
f.__timeWheelLabelsSize__).attr("fill",f.__timeWheelForeColor__).attr("text-anchor","middle").attr("x",f.__r__).attr("y",2*f.__r__-5)),d.push(f.__wheel__.append("text").property("clock_time","9").text(ChartUtils.addIntToTimeString(f.__startTime__,Math.floor(3*f.__ticks__/4))).attr("font-family","sans-serif").attr("font-size",f.__timeWheelLabelsSize__).attr("fill",f.__timeWheelForeColor__).attr("text-anchor","left").attr("x",5).attr("y",f.__r__+f.__timeWheelLabelsSize__/2)),Object.defineProperty(f,
"__timeLabels__",{value:d,writable:!1,enumerable:!1,configurable:!1}));Object.seal(f);return f}var t="blue red green orange purple cyan magenta yellow limegreen brown".split(" "),x={fill:"none",width:0,dash:null},n={fill:"none",width:0,dash:null},u={setPosition:function(a,b){a=parseInt(a,10);b=parseInt(b,10);this.__divElement__&&(!isNaN(a)&&!isNaN(b))&&this.__divElement__.attr("style","position:absolute; left:"+a+"px; top:"+b+"px;");return this},setWidth:function(a){a=parseInt(a,10);if(this.__svgElement__&&
!isNaN(a)&&0<=a)this.__svgElement__.attr("width",a),this.__divElement__.attr("width",a);else throw"Illegal Argument: width";return this},setHeight:function(a){a=parseInt(a,10);if(this.__svgElement__&&!isNaN(a)&&0<=a)this.__svgElement__.attr("height",a);else throw"Illegal Argument: height";return this},addItem:function(a,b,d){if(Object.isUndefined(a)||Object.isUndefined(b)||Object.isUndefined(d))throw"Wrong number of arguments: label and color are both mandatory";this.__items__.push({labelText:a,labelColor:b,
fillColor:d});var g=this.__items__.length-1;this.__svgElement__.append("rect").attr("stroke","black").attr("fill",d).attr("width",25).attr("height",15).attr("x",5).attr("y",5+20*g);this.__svgElement__.append("text").text(a).attr("fill",b).attr("x",35).attr("y",20*g+15).attr("font-family","sans-serif").attr("font-size",11).attr("text-anchor","left")},removeItem:function(a){a=parseInt(a,10);if(isNaN(a)||0>a||a>=this.__items__.length)throw"Illegal Argument: index";this.__items__.splice(a,1);this.__svgElement__.selectAll("rect").data(this.__items__).exit().remove();
this.__svgElement__.selectAll("text").data(this.__items__).exit().remove();this.__redrawLegend__();return this},updateItem:function(a,b,d,g){a=parseInt(a,10);if(isNaN(a)||0>a||a>=this.__items__.length)throw"Illegal Argument: index";a=this.__items__[a];Object.isUndefined(b)||(a.labelText=b);Object.isUndefined(d)||(a.labelColor=d);Object.isUndefined(g)||(a.fillColor=g);this.__redrawLegend__();return this},destroy:function(){this.__items__.length=0;this.__svgElement__.remove();this.__divElement__.remove();
return null}},e=0,c={setPosition:function(a,b){a=parseInt(a,10);b=parseInt(b,10);this.__divElement__&&(!isNaN(a)&&!isNaN(b))&&this.__divElement__.attr("style","position:absolute; left:"+a+"px; top:"+b+"px;");return this},setWidth:function(a){a=parseInt(a,10);if(this.__svgElement__&&!isNaN(a)&&0<=a)this.__svgElement__.attr("width",a),this.__divElement__.attr("width",a);else throw"Illegal Argument: width";return this},setHeight:function(a){a=parseInt(a,10);if(this.__svgElement__&&!isNaN(a)&&0<=a)this.__svgElement__.attr("height",
a),this.__divElement__.attr("height",a);else throw"Illegal Argument: height";return this},getAxesWidth:function(){return[this.__svgElement__.select("#axe_top").attr("width"),this.__svgElement__.select("#axe_right").attr("width"),this.__svgElement__.select("#axe_bottom").attr("width"),this.__svgElement__.select("#axe_left").attr("width")]},getAxesHeight:function(){return[this.__svgElement__.select("#axe_top").attr("height"),this.__svgElement__.select("#axe_right").attr("height"),this.__svgElement__.select("#axe_bottom").attr("height"),
this.__svgElement__.select("#axe_left").attr("height")]},setTitle:function(a,b,d,g,c){var e=this.__axeTop__.selectAll("text[type=title_element]");b=parseInt(b,10);Object.isNumber(b)||(b=22);g=parseInt(g,10);Object.isNumber(g)||(g=this.__axeTop__.attr("width")/2);c=parseInt(c,10);Object.isNumber(c)||(c=b);Object.isUndefined(d)&&(d="black");e.empty()&&(e=this.__axeTop__.append("text").attr("type","title_element").attr("text-anchor","middle").attr("font-family","sans-serif"));e.text(a).attr("font-size",
b).attr("x",g).attr("y",c).attr("fill",d);return this},addLegend:function(a,b,d,g,c,e){if(this.hasOwnProperty("__legend__")){if(Object.isArray(a)){if(a.length!==this.__dataDim__)throw"Invalid array size: "+this.__dataDim__+" labels needed";}else throw"Illegal Argument: labels";this.__legend__&&this.__legend__.destroy&&this.__legend__.destroy();Object.isUndefined(e)&&(e=this.__parent__);var j=e;e=Object.create(u);Object.defineProperty(e,"__redrawLegend__",{value:function(){this.__svgElement__.selectAll("rect").data(this.__items__).attr("stroke",
"black").attr("fill",function(a){return a.fillColor}).attr("width",25).attr("height",15).attr("x",5).attr("y",function(a,b){return 5+20*b});this.__svgElement__.selectAll("text").data(this.__items__).text(function(a){return a.labelText}).attr("fill",function(a){return a.labelColor}).attr("x",35).attr("y",function(a,b){return 20*b+15}).attr("font-family","sans-serif").attr("font-size",11).attr("text-anchor","left")},writable:!1,enumerable:!1,configurable:!1});if(Object.isUndefined(b)||Object.isUndefined(d))throw"Wrong number of arguments: width and height are mandatory";
Object.isUndefined(j)&&(j=d3.select("body"));var j=j.append("div"),k=j.append("svg").attr("id","chart_legend");Object.defineProperty(e,"__divElement__",{value:j,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(e,"__svgElement__",{value:k,writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(e,"__items__",{value:[],writable:!1,enumerable:!1,configurable:!1});e.setWidth(b);e.setHeight(d);Object.isUndefined(g)&&(g=0);Object.isUndefined(c)&&(c=0);e.setPosition(g,c);e.__svgElement__.append("rect").attr("stroke",
"black").attr("width",b).attr("fill","white").attr("height",d-2).attr("x",0).attr("y",1);Object.seal(e);this.__legend__=e;for(b=0;b<a.length;b++)this.__legend__.addItem(a[b],this.getLabelColor(b),this.getBarsFillColor(b))}else(j=this.prototype?this.prototype:this.__proto__)&&j.addLegend&&j.addLegend(a,b,d,g,c,e);return this},appendData:function(a){var b=Math.max(this.__dataDim__,this.__getDatasetLength__()*this.__dataDim__);a=this.__canAppendData__(a);var d,g,c;if(Object.isArray(a)){var e=a.length;
for(d=0;d<e;d++)if(c=this.__formatValue__(a[d]),null!==c){this.setProperty("__dataCounter__",this.__dataCounter__+1);for(g=0;g<this.__dataDim__;g++)this.__data__[g].push(c[g]),c[g]>this.__maxVals__[g]&&(this.__maxVals__[g]=c[g])}}else throw"Illegal Argument: newDataArray must be an Array";a=this.__getDatasetLength__()*this.__dataDim__;d=this.__scaleGlobally__?ChartUtils.fillArray(this.__maxVals__.max(),this.__dataDim__):this.__maxVals__;this.__updateBackground__();for(g=0;g<this.__dataDim__;g++)this.__xScale__.domain([0,
b]),c=this.__selectData__(this.__data__,g),e=this.__selectLabels__(this.__data__,g),this.__drawNewData__(c,e,g,this.__xScale__,this.__yScale__[g]),this.__xScale__.domain([0,a]),this.__yScale__[g].domain([0,d[g]]),this.__updateDrawing__(c,e,g,this.__xScale__,this.__yScale__[g]);this.__updateAxes__(this.__yScale__[0]);return this},setFormatValueFunction:function(a){if(Object.isUndefined(a)||!Object.isFunction(a))throw"Illegal Argument: formaValueFunction";Object.defineProperty(this,"__formatValue__",
{value:a,writable:!0,enumerable:!1,configurable:!1});return this},clearData:function(a){var b,d,c;if(Object.isUndefined(a))a=this.__getDatasetLength__();else if(a=parseInt(a,10),isNaN(a)||0>=a||a>this.__getDatasetLength__())throw"Illegal Argument: n";for(b=0;b<this.__dataDim__;b++)d=this.__selectData__(this.__data__,b,a),c=this.__selectLabels__(this.__data__,b,a),this.__clearDrawing__(d,c),this.__data__[b].splice(0,a),this.__maxVals__[b]=this.__data__[b].max();this.__onClearData__(a);return this},
toggleLabels:function(a,b){a=a?parseInt(a,10):0;if(!isNaN(a)&&0<=a&&this.__labelsVisible__.length>a)this.__labelsVisible__[a]=Object.isUndefined(b)?!this.__labelsVisible__:b?!0:!1;else throw"Invalid Index";return this},areLabelsVisible:function(a){a=a?parseInt(a,10):0;if(!isNaN(a)&&0<=a&&this.__labelsVisible__.length>a)return this.__labelsVisible__[a];throw"Invalid Index";},setGlobalScaling:function(){if(this.hasOwnProperty("__scaleGlobally__"))this.__scaleGlobally__=!0;else{var a=this.prototype?
this.prototype:this.__proto__;a&&a.setGlobalScaling&&a.setGlobalScaling()}return this},setLocalScaling:function(){if(this.hasOwnProperty("__scaleGlobally__"))this.__scaleGlobally__=!1;else{var a=this.prototype?this.prototype:this.__proto__;a&&a.setLocalScaling&&a.setLocalScaling()}return this},getBarsFillColor:function(a){a=a?parseInt(a,10):0;if(!isNaN(a)&&0<=a&&this.__barsFillColors__.length>a)return this.__barsFillColors__[a];throw"Invalid Index";},getBarsStrokeColor:function(a){a=a?parseInt(a,
10):0;if(!isNaN(a)&&0<=a&&this.__barsStrokeColors__.length>a)return this.__barsStrokeColors__[a];throw"Invalid Index";},getLabelColor:function(a){a=a?parseInt(a,10):0;if(!isNaN(a)&&0<=a&&this.__labelColors__.length>a)return this.__labelColors__[a];throw"Invalid Index";},getLabelsSize:function(a){a=a?parseInt(a,10):0;if(!isNaN(a)&&0<=a&&this.__labelsSize__.length>a)return this.__labelsSize__[a];throw"Invalid  Index";},getBarWidth:function(a){Object.isUndefined(a)&&(a=this.__xScale__);if(!a)throw"Illegal Argument: xScale";
return a(1)-a(0)-1},getOuterBackgroundColor:function(){return this.__outerBackgroundColor__},getInnerBackgroundColor:function(){return this.__innerBackgroundColor__},getInnerBorder:function(){return this.__innerBorder__},getOuterBorder:function(){return this.__outerBorder__},setBarsFillColor:function(a,b,d){b=b?parseInt(b,10):0;if(!isNaN(b)&&0<=b&&this.__barsFillColors__.length>b)this.__barsFillColors__[b]=a;else throw"Invalid Index";this.__legend__&&this.__legend__.updateItem(b,void 0,void 0,a,!0);
d||this.__redrawAll__();return this},setBarsStrokeColor:function(a,b){b=b?parseInt(b,10):0;if(!isNaN(b)&&0<=b&&this.__barsStrokeColors__.length>b)this.__barsStrokeColors__[b]=a;else throw"Invalid Index";return this},setLabelColor:function(a,b){b=b?parseInt(b,10):0;if(!isNaN(b)&&0<=b&&this.__labelColors__.length>b)this.__labelColors__[b]=a;else throw"Invalid Index";this.__legend__&&this.__legend__.updateItem(b,void 0,a,void 0);return this},setLabelSize:function(a,b){a=parseInt(a,10);if(isNaN(a)||0>=
a)throw"Illegal Argument: size";b=b?parseInt(b,10):0;if(!isNaN(b)&&0<=b&&this.__labelsSize__.length>b)this.__labelsSize__[b]=a;else throw"Invalid Index";return this},setBarWidth:function(){throw"Read only property: barWidth";},setInnerBackgroundColor:function(a,b){this.hasOwnProperty("__innerBackgroundColor__")?this.__innerBackgroundColor__=a:this.superMethod("setInnerBackgroundColor",a,!0);b||this.__redrawInnerBackground__();return this},setOuterBackgroundColor:function(a,b){this.hasOwnProperty("__outerBackgroundColor__")?
this.__outerBackgroundColor__=a:this.superMethod("setOuterBackgroundColor",a,!0);b||this.__redrawOuterBackground__();return this},setInnerBorder:function(a,b,d,c){this.hasOwnProperty("__innerBorder__")?(this.__innerBorder__.fill=a,Object.isUndefined(b)||(this.__innerBorder__.width=b),Object.isUndefined(d)||(this.__innerBorder__.dash=d)):this.superMethod("setInnerBorder",a,b,d,!0);c||this.__redrawInnerBorder__();return this},setOuterBorder:function(a,b,d,c){this.hasOwnProperty("__outerBorder__")?(this.__outerBorder__.fill=
a,Object.isUndefined(b)||(this.__outerBorder__.width=b),Object.isUndefined(d)||(this.__outerBorder__.dash=d)):this.superMethod("setOuterBorder",a,b,d,!0);c||this.__redrawOuterBorder__();return this},setAbbreviatedLabel:function(a,b){this.hasOwnProperty("__abbreviatedLabels__")?(a=a?parseInt(a,10):0,!isNaN(a)&&(0<=a&&this.__abbreviatedLabels__.length>a)&&(this.__abbreviatedLabels__[a]=!0)):this.superMethod("setAbbreviatedLabel",a,!0);b||this.__redrawAll__();return this},setExtendedLabel:function(a,
b){this.hasOwnProperty("__abbreviatedLabels__")?(a=a?parseInt(a,10):0,!isNaN(a)&&(0<=a&&this.__abbreviatedLabels__.length>a)&&(this.__abbreviatedLabels__[a]=!1)):this.superMethod("setExtendedLabel",a,!0);b||this.__redrawAll__();return this},setHorizontalAxe:function(a,b,d,c,e,h,j,k){if(Object.isUndefined(d))d=0;else if(d=parseInt(d,10),isNaN(d)||0>d)throw"Illegal Argument: notches";c=parseInt(c,10);if(isNaN(c)||0>=c)c=1;h=parseInt(h,10);if(isNaN(h)||0>=h)h=12;Object.isUndefined(e)&&(e="black");this.__clearHorizontalAxe__();
b={notches:d,color:e,lineWidth:c,labelSize:h,title:b,titleSize:parseInt(k,10),titleColor:j};a?(b.side="top",b.svgElement=this.__axeTop__):(b.side="bottom",b.svgElement=this.__axeBottom__);if(isNaN(b.titleSize)||0>b.titleSize)b.titleSize=12;b.titleColor||(b.titleColor=b.color);Object.freeze(b);this.setProperty("__horizontalAxe__",b);this.__drawHorizontalAxe__();return this},removeHorizontalAxe:function(){this.__clearHorizontalAxe__();this.setProperty("__horizontalAxe__",null);return this},setVerticalAxe:function(a,
b,d,c,e,h,j,k){if(Object.isUndefined(d))d=0;else if(d=parseInt(d,10),isNaN(d)||0>d)throw"Illegal Argument: notches";c=parseInt(c,10);if(isNaN(c)||0>=c)c=1;h=parseInt(h,10);if(isNaN(h)||0>=h)h=12;Object.isUndefined(e)&&(e="black");this.__clearVerticalAxe__();d={notches:d,color:e,lineWidth:c,labelSize:h,title:b,titleSize:parseInt(k,10),titleColor:j};a?(d.side="right",d.svgElement=this.__axeRight__):(d.side="left",d.svgElement=this.__axeLeft__);if(isNaN(d.titleSize)||0>d.titleSize)d.titleSize=12;d.titleColor||
(d.titleColor=d.color);Object.freeze(d);this.setProperty("__verticalAxe__",d);this.__drawVerticalAxe__(b,k,j);return this},removeVerticalAxe:function(){this.__clearVerticalAxe__();this.setProperty("__verticalAxe__",null);return this},destroy:function(){this.clearData();this.__data__.length=0;this.__maxVals__.length=0;this.__yScale__.length=0;this.__barsStrokeColors__.length=0;this.__barsFillColors__.length=0;this.__labelColors__.length=0;this.__labelsSize__.length=0;this.__labelsVisible__.length=
0;this.__svgElement__.remove();this.__divElement__.remove();this.__legend__&&this.__legend__.destroy&&this.__legend__.destroy();return null}};Object.defineProperty(c,"__getDatasetLength__",{value:function(){return this.__data__[0].length},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(c,"__canAppendData__",{value:function(a){return!Object.isArray(a)?[]:0===this.__getDatasetLength__()||0<this.getBarWidth(this.__xScale__)?a:[]},writable:!1,enumerable:!1,configurable:!1});c.addProtectedMethod("__redrawAll__",
function(){var a,b;a=this.__getDatasetLength__()*this.__dataDim__;var d;d=this.__scaleGlobally__?ChartUtils.fillArray(this.__maxVals__.max(),this.__dataDim__):this.__maxVals__;this.__xScale__.domain([0,a]);for(var c=0;c<this.__dataDim__;c++)this.__yScale__[c].domain([0,d[c]]),a=this.__selectData__(this.__data__,c),b=this.__selectLabels__(this.__data__,c),this.__refreshDrawing__(a,b,c,this.__xScale__,this.__yScale__[c])});Object.defineProperty(c,"__formatValue__",{value:function(a){if(Object.isArray(a)){if(a.length!==
this.__dataDim__)return null;for(var b=0;b<this.__dataDim__;b++)if(!Object.isNumber(a[b]))return null;return a.map(parseFloat)}return Object.isNumber(a)&&1===this.__dataDim__?[parseFloat(a)]:null},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(c,"__selectData__",{value:function(a,b,d){return Object.isUndefined(d)?this.__chartArea__.selectAll("rect[index=data_"+b+"]").data(a[b]):this.__chartArea__.selectAll("rect[index=data_"+b+"]").data(a[b].slice(0,d))},writable:!1,enumerable:!1,
configurable:!1});Object.defineProperty(c,"__selectLabels__",{value:function(a,b,d){return Object.isUndefined(d)?this.__chartArea__.selectAll("text[index=data_"+b+"]").data(a[b]):this.__chartArea__.selectAll("text[index=data_"+b+"]").data(a[b].slice(0,d))},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(c,"__drawNewData__",{value:function(a,b,d,c,e){var h=this,j=this.__getChartAreaHeight__(),k=this.getBarWidth(c);a.enter().append("rect").attr("index","data_"+d).attr("x",function(a,
b){return c(b*h.__dataDim__+d)}).attr("y",j).attr("width",k).attr("height",0).attr("fill",h.getBarsFillColor(d)).attr("stroke",h.getBarsStrokeColor(d)).attr("opacity",function(a){return h.__getBarOpacity__((0+e(a))/j)});h.areLabelsVisible(d)?b.enter().append("text").attr("index","data_"+d).text(function(a){return h.__makeLabel__(a,d)}).attr("text-anchor","middle").attr("x",function(a,b){return c(b*h.__dataDim__+d)+k/2}).attr("y",j).attr("font-family","sans-serif").attr("font-size",h.getLabelsSize(d)).attr("fill",
h.getLabelColor(d)).attr("opacity",function(){return this.getComputedTextLength()<=k?1:0}):b.remove()},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(c,"__updateDrawing__",{value:function(a,b,d,c,e){var h=this,j=this.__getChartAreaHeight__(),k=this.getBarWidth(c);a.transition().attr("x",function(a,b){return c(b*h.__dataDim__+d)}).attr("y",function(a){return j-e(a)}).attr("width",k).attr("height",function(a){return e(a)}).attr("opacity",function(a){return h.__getBarOpacity__((0+
e(a))/j)});h.areLabelsVisible(d)?b.transition().text(function(a){return h.__makeLabel__(a,d)}).attr("x",function(a,b){return c(b*h.__dataDim__+d)+k/2}).attr("y",function(a){return j-e(a)+15}).attr("opacity",function(){return this.getComputedTextLength()<=k?1:0}):b.remove()},writable:!1,enumerable:!1,configurable:!1});c.addProtectedMethod("__refreshDrawing__",function(a,b,d,c,e){var h=this,j=this.__getChartAreaHeight__(),k=this.getBarWidth(c);a.transition().attr("x",function(a,b){return c(b*h.__dataDim__+
d)}).attr("y",function(a){return j-e(a)}).attr("width",k).attr("height",function(a){return e(a)}).attr("fill",h.getBarsFillColor(d)).attr("stroke",h.getBarsStrokeColor(d)).attr("opacity",function(a){return h.__getBarOpacity__((0+e(a))/j)});h.areLabelsVisible(d)?b.transition().text(function(a){return h.__makeLabel__(a,d)}).attr("text-anchor","middle").attr("x",function(a,b){return c(b*h.__dataDim__+d)+k/2}).attr("y",function(a){return j-e(a)+15}).attr("font-family","sans-serif").attr("font-size",h.getLabelsSize(d)).attr("fill",
h.getLabelColor(d)).attr("opacity",function(){return this.getComputedTextLength()<=k?1:0}):b.remove()});Object.defineProperty(c,"__onClearData__",{value:function(){},writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(c,"__clearDrawing__",{value:function(a,b){a.remove();b.remove()},writable:!1,enumerable:!1,configurable:!1});c.addProtectedMethod("__clearHorizontalAxe__",function(){if(null!==this.__horizontalAxe__){var a=this.__horizontalAxe__.svgElement;a.selectAll("line").remove();
a.selectAll("text").remove();a.selectAll("svg").remove()}});c.addProtectedMethod("__drawHorizontalAxeTitle__",function(a,b,d,c){a.svgElement.append("svg").attr("x",d).attr("y",c).attr("width",b).attr("height",a.titleSize+5);a.svgElement.select("svg").append("text").attr("type","axe_title").text(a.title).attr("text-anchor","middle").attr("x",b/2).attr("y",a.titleSize).attr("fill",a.titleColor).attr("font-family","sans-serif").attr("font-size",a.titleSize)});c.addProtectedMethod("__drawHorizontalAxe__",
function(){var a=this.__horizontalAxe__;if(null!==a){var b=a.svgElement.attr("width"),d=a.svgElement.attr("height"),c=b/(a.notches+1);switch(a.side){case "bottom":a.svgElement.selectAll("line").data(d3.range(a.notches+2)).enter().append("svg:line").attr("x1",function(a,b){return b*c}).attr("y1",0).attr("x2",function(a,b){return b*c}).attr("y2",5).attr("stroke",a.color).attr("stroke-width",a.lineWidth);a.svgElement.append("svg:line").attr("x1",0).attr("y1",0).attr("x2",b).attr("y2",0).attr("stroke",
a.color).attr("stroke-width",a.lineWidth);Object.isUndefined(a.title)||this.__drawHorizontalAxeTitle__(a,b,0,d-a.titleSize-5);break;case "top":a.svgElement.selectAll("line").data(d3.range(a.notches+2)).enter().append("svg:line").attr("x1",function(a,b){return b*c}).attr("y1",d-5).attr("x2",function(a,b){return b*c}).attr("y2",d).attr("stroke",a.color).attr("stroke-width",a.lineWidth);a.svgElement.append("svg:line").attr("x1",0).attr("y1",d).attr("x2",b).attr("y2",d).attr("stroke",a.color).attr("stroke-width",
a.lineWidth);Object.isUndefined(a.title)||this.__drawHorizontalAxeTitle__(a,b,0,5);break;default:throw new TypeError("__verticalAxe__ object is invalid");}}});c.addProtectedMethod("__clearVerticalAxe__",function(){if(null!==this.__verticalAxe__){var a=this.__verticalAxe__.svgElement;a.selectAll("line").remove();a.selectAll("text").remove();a.selectAll("svg").remove()}});c.addProtectedMethod("__drawVerticalAxeTitle__",function(a,b,d,c,e,h,j){a.svgElement.append("svg").attr("x",d).attr("y",0).attr("width",
a.titleSize+5).attr("height",b);a.svgElement.select("svg").append("rect").attr("fill",this.getOuterBackgroundColor()).attr("x",0).attr("y",0).attr("width",a.titleSize).attr("height",b);a.svgElement.select("svg").append("text").attr("type","axe_title").text(a.title).attr("text-anchor","middle").attr("x",h).attr("y",c).attr("transform","rotate("+e+" "+j+","+c+")").attr("fill",a.titleColor).attr("font-family","sans-serif").attr("font-size",a.titleSize)});c.addProtectedMethod("__drawVerticalAxe__",function(){var a=
this.__verticalAxe__;if(null!==a){var b=a.svgElement.attr("width"),d=a.svgElement.attr("height"),c=d/(a.notches+1);switch(a.side){case "right":a.svgElement.selectAll("line").data(d3.range(a.notches+2)).enter().append("svg:line").attr("x1",0).attr("y1",function(a,b){return b*c}).attr("x2",5).attr("y2",function(a,b){return b*c}).attr("stroke",a.color).attr("stroke-width",a.lineWidth);a.svgElement.append("svg:line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",d).attr("stroke",a.color).attr("stroke-width",
a.lineWidth);Object.isUndefined(a.title)||this.__drawVerticalAxeTitle__(a,d,b-a.titleSize-5,d/2,90,2.5,2.5);break;case "left":a.svgElement.selectAll("line").data(d3.range(a.notches+2)).enter().append("svg:line").attr("x1",b-5).attr("y1",function(a,b){return b*c}).attr("x2",b).attr("y2",function(a,b){return b*c}).attr("stroke",a.color).attr("stroke-width",a.lineWidth);a.svgElement.append("svg:line").attr("x1",b).attr("y1",0).attr("x2",b).attr("y2",d).attr("stroke",a.color).attr("stroke-width",a.lineWidth);
Object.isUndefined(a.title)||this.__drawVerticalAxeTitle__(a,d,1,d/2,-90,0,a.titleSize);break;default:throw new TypeError("__verticalAxe__ object is invalid");}}});Object.defineProperty(c,"__getBarOpacity__",{value:function(a){return 0.25+0.75*a},writable:!1,enumerable:!1,configurable:!1});c.addProtectedMethod("__makeLabel__",function(a,b,d){try{return(d||!Object.isUndefined(b)&&this.__abbreviatedLabels__[b])&&Object.isNumber(a)?ChartUtils.abbreviateNumber(a):a}catch(c){return a}});c.addProtectedMethod("__updateBackground__",
function(){});c.addProtectedMethod("__redrawInnerBackground__",function(){this.__chartArea__.select("#innerBackground").attr("fill",this.getInnerBackgroundColor())});c.addProtectedMethod("__redrawOuterBackground__",function(){this.__svgElement__.select("#outerBackground").attr("fill",this.getOuterBackgroundColor());try{this.__verticalAxe__.svgElement.selectAll("rect").attr("fill",this.getOuterBackgroundColor())}catch(a){}try{this.__horizontalAxe__.svgElement.selectAll("rect").attr("fill",this.getOuterBackgroundColor())}catch(b){}});
c.addProtectedMethod("__redrawInnerBorder__",function(a){Object.isUndefined(a)&&(a=this.__innerBorder__);this.__chartArea__.select("#innerBackground").attr("stroke",a.fill).attr("stroke-width",a.width).attr("stroke-dasharray",a.dash)});c.addProtectedMethod("__redrawOuterBorder__",function(a){Object.isUndefined(a)&&(a=this.__outerBorder__);this.__svgElement__.select("#outerBackground").attr("stroke",a.fill).attr("stroke-width",a.width).attr("stroke-dasharray",a.dash)});c.addProtectedMethod("__getWidth__",
function(){return parseInt(this.__svgElement__.attr("width"),10)});c.addProtectedMethod("__getHeight__",function(){return parseInt(this.__svgElement__.attr("height"),10)});c.addProtectedMethod("__getChartAreaWidth__",function(){return parseInt(this.__chartArea__.attr("width"),10)});c.addProtectedMethod("__getChartAreaHeight__",function(){return parseInt(this.__chartArea__.attr("height"),10)});c.addProtectedMethod("__decodeCSSMultivalueString__",function(a,b){var d=a.match(/(\d+(px)?\s+)|(\d+(px)?\s*;$)/g),
c,e,h=["top","right","bottom","left"];if(d)d=d.map(function(a){return parseInt(a,10)});else{if(Object.isUndefined(b))throw"Illegal Arguments: either at least one value or a default value MUST be supplied";c={};if(!Object.isUndefined(b))for(e=0;4>e;e++)c[h[e]]=b;return c}if(Object.isUndefined(b))switch(d.length){case 0:c={};break;case 1:d=d[0];c={top:d,right:d,bottom:d,left:d};break;case 2:c={top:d[0],right:d[1],bottom:d[0],left:d[1]};break;case 3:c={top:d[0],right:d[1],bottom:d[2],left:d[1]};break;
case 4:c={top:d[0],right:d[1],bottom:d[2],left:d[3]};break;default:throw"Illegal Argument Exception: CSS string contains too many values.";}else{if(4<d.length)throw"Illegal Argument Exception: CSS string contains too many values.";c={};for(e=0;e<d.length;e++)c[h[e]]=d[e];for(;4>e;e++)c[h[e]]=b}return c});c.addProtectedMethod("__encodeCSSMultivalueString__",function(a){var b=[],d,c=["top","right","bottom","left"];for(d=0;4>d;d++)try{b.push(a[c[d]])}catch(e){break}return 0<b.length?b.join(" ")+";":
""});c.addProtectedMethod("__updateAxes__",function(a){var b=this.__verticalAxe__,d,c,e,h,j,k=this;if(b){if(this.__scaleGlobally__||1===this.__dataDim__){h=this.__maxVals__.max();c=b.notches;e=[h];for(d=c;0<d;d--)e.push(h*d/(c+1));e.push(0)}else e=[];c=b.svgElement.selectAll("text[type=axe_label]").data(e);j=b.svgElement.attr("height");"right"===b.side?(e=5,d="start"):(e=b.svgElement.attr("width")-5,d="end");c.exit().remove();c.enter().insert("text","svg").attr("type","axe_label").attr("text-anchor",
d).attr("font-family","sans-serif").attr("font-size",b.labelSize);c.text(function(a){return k.__makeLabel__(a,void 0,!0)}).attr("x",e).attr("y",function(c){return Math.max(0.75*b.labelSize,Math.min(j,j-a(c)+0.375*b.labelSize))}).attr("fill",b.color)}});c.addProtectedMethod("__initAxes__",function(a,b){this.__svgElement__.insert("rect","#chart_area").attr("id","outerBackground").attr("width",a).attr("height",b).attr("x",0).attr("y",0);var c=a-this.__margins__.left-this.__margins__.right-2,e=b-this.__margins__.top-
this.__margins__.bottom-2;this.__axeTop__.attr("width",c).attr("height",this.__margins__.top).attr("x",this.__margins__.left).attr("y",0);this.__axeRight__.attr("width",this.__margins__.right).attr("height",e).attr("x",a-this.__margins__.right).attr("y",this.__margins__.top+1);this.__axeBottom__.attr("width",c).attr("height",this.__margins__.bottom).attr("x",this.__margins__.left).attr("y",b-this.__margins__.bottom);this.__axeLeft__.attr("width",this.__margins__.left).attr("height",e).attr("x",0).attr("y",
this.__margins__.top+1);this.__chartArea__.attr("width",c).attr("height",e).attr("x",this.__margins__.left+1).attr("y",this.__margins__.top+1);this.__chartArea__.append("rect").attr("id","innerBackground").attr("width",this.__chartArea__.attr("width")).attr("height",this.__chartArea__.attr("height")).attr("x",0).attr("y",0);this.__redrawInnerBackground__();this.__redrawOuterBackground__();this.__redrawInnerBorder__();this.__redrawOuterBorder__()});Object.freeze(c);var j={BasicBarChart:function(){return s.apply(null,
Array.prototype.slice.apply(arguments,[0])).createSafeProxy(!0)},FixedWidthBarChart:function(){return q.apply(null,Array.prototype.slice.apply(arguments,[0])).createSafeProxy(!0)},SlidingBarChart:function(){return v.apply(null,Array.prototype.slice.apply(arguments,[0])).createSafeProxy(!0)},TimeWheelChart:function(){return w.apply(null,Array.prototype.slice.apply(arguments,[0])).createSafeProxy(!0)}};Object.freeze(j);return Object.create(j)}();Object.freeze(DynamicChart)};